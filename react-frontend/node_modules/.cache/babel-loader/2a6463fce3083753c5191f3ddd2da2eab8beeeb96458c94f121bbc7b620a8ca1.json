{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ModalWithForm=()=>{const[isOpen,setIsOpen]=useState(false);const modalRef=useRef(null);const[formData,setFormData]=useState({ime:'',prezime:'',email:'',organizacija:'',telefon:'',postanskiBroj:'',grad:'',drzava:'',adresa:'',pib:'',maticniBroj:''});const openModal=()=>setIsOpen(true);const closeModal=()=>setIsOpen(false);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=e=>{e.preventDefault();console.log('Form submitted:',formData);closeModal();};const Field=_ref=>{let{label,name,type=\"text\",required=false}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:name,className:\"mb-1 text-sm font-medium text-gray-700\",children:[label,required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{id:name,name:name,type:type,value:formData[name],onChange:handleChange,required:required,className:\"border border-gray-300 px-3 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-hover-dark-pink\"})]});};// ⛔ Close modal when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(modalRef.current&&!modalRef.current.contains(event.target)){closeModal();}};if(isOpen){document.addEventListener(\"mousedown\",handleClickOutside);}else{document.removeEventListener(\"mousedown\",handleClickOutside);}return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[isOpen]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:openModal,className:\"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition\",children:\"Otvori Formu\"}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{ref:modalRef,className:\"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl shadow-lg overflow-y-auto max-h-[90vh]\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl sm:text-2xl font-semibold mb-4 sm:mb-6 text-gray-800 text-center\",children:\"Kontakt\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Field,{label:\"Ime\",name:\"ime\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Prezime\",name:\"prezime\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Email\",name:\"email\",type:\"email\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Organizacija\",name:\"organizacija\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Telefon\",name:\"telefon\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Po\\u0161tanski broj\",name:\"postanskiBroj\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Grad\",name:\"grad\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Dr\\u017Eava\",name:\"drzava\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Adresa\",name:\"adresa\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"PIB\",name:\"pib\",required:true}),/*#__PURE__*/_jsx(Field,{label:\"Mati\\u010Dni broj\",name:\"maticniBroj\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full flex flex-col sm:flex-row justify-end mt-2 sm:mt-4 gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:closeModal,className:\"w-full sm:w-auto px-5 py-2 rounded-xl transition bg-black hover:bg-hover-dark-pink text-white\",children:\"Otka\\u017Ei\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full sm:w-auto bg-[#a0258c] text-white px-6 py-2 rounded-xl hover:bg-hover-dark-pink transition\",children:\"Po\\u0161alji\"})]})]})]})})]});};export default ModalWithForm;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","ModalWithForm","isOpen","setIsOpen","modalRef","formData","setFormData","ime","prezime","email","organizacija","telefon","postanskiBroj","grad","drzava","adresa","pib","maticniBroj","openModal","closeModal","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","console","log","Field","_ref","label","type","required","className","children","htmlFor","id","onChange","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","onClick","ref","onSubmit"],"sources":["/var/www/html/NovaBalance/react-frontend/src/components/KontaktModal.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst ModalWithForm = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const modalRef = useRef(null);\n\n  const [formData, setFormData] = useState({\n    ime: '',\n    prezime: '',\n    email: '',\n    organizacija: '',\n    telefon: '',\n    postanskiBroj: '',\n    grad: '',\n    drzava: '',\n    adresa: '',\n    pib: '',\n    maticniBroj: ''\n  });\n\n  const openModal = () => setIsOpen(true);\n  const closeModal = () => setIsOpen(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log('Form submitted:', formData);\n    closeModal();\n  };\n\n  const Field = ({ label, name, type = \"text\", required = false }) => (\n    <div className=\"flex flex-col\">\n      <label htmlFor={name} className=\"mb-1 text-sm font-medium text-gray-700\">\n        {label}\n        {required && <span className=\"text-red-500 ml-1\">*</span>}\n      </label>\n      <input\n        id={name}\n        name={name}\n        type={type}\n        value={formData[name]}\n        onChange={handleChange}\n        required={required}\n        className=\"border border-gray-300 px-3 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-hover-dark-pink\"\n      />\n    </div>\n  );\n\n  // ⛔ Close modal when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        closeModal();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    } else {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [isOpen]);\n\n  return (\n    <div>\n      <button\n        onClick={openModal}\n        className=\"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition\"\n      >\n        Otvori Formu\n      </button>\n\n      {isOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 px-4\">\n          <div\n            ref={modalRef}\n            className=\"bg-white rounded-xl p-4 sm:p-6 w-full max-w-2xl shadow-lg overflow-y-auto max-h-[90vh]\"\n          >\n            <h2 className=\"text-xl sm:text-2xl font-semibold mb-4 sm:mb-6 text-gray-800 text-center\">Kontakt</h2>\n            <form onSubmit={handleSubmit} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <Field label=\"Ime\" name=\"ime\" required />\n              <Field label=\"Prezime\" name=\"prezime\" required />\n              <Field label=\"Email\" name=\"email\" type=\"email\" required />\n              <Field label=\"Organizacija\" name=\"organizacija\" required />\n              <Field label=\"Telefon\" name=\"telefon\" required />\n              <Field label=\"Poštanski broj\" name=\"postanskiBroj\" required />\n              <Field label=\"Grad\" name=\"grad\" required />\n              <Field label=\"Država\" name=\"drzava\" required />\n              <Field label=\"Adresa\" name=\"adresa\" required />\n              <Field label=\"PIB\" name=\"pib\" required />\n              <Field label=\"Matični broj\" name=\"maticniBroj\" />\n\n              <div className=\"col-span-full flex flex-col sm:flex-row justify-end mt-2 sm:mt-4 gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={closeModal}\n                  className=\"w-full sm:w-auto px-5 py-2 rounded-xl transition bg-black hover:bg-hover-dark-pink text-white\"\n                >\n                  Otkaži\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"w-full sm:w-auto bg-[#a0258c] text-white px-6 py-2 rounded-xl hover:bg-hover-dark-pink transition\"\n                >\n                  Pošalji\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ModalWithForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}